{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/js/lib/pace.custom.coffee","preloader.js","app/js/preloader.coffee"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","AjaxMonitor","Bar","DocumentMonitor","ElementMonitor","ElementTracker","EventLagMonitor","Evented","Events","NoTargetError","Pace","RequestIntercept","SOURCE_KEYS","Scaler","SocketRequestTracker","XHRRequestTracker","_WebSocket","_XDomainRequest","_XMLHttpRequest","_intercept","_pushState","_replaceState","animation","avgAmplitude","bar","cancelAnimation","cancelAnimationFrame","defaultOptions","extend","extendNative","getFromDOM","getIntercept","handlePushState","ignoreStack","init","k","len","now","options","ref","requestAnimationFrame","result","runAnimation","scalers","shouldIgnoreURL","shouldTrack","source","sources","uniScaler","slice","hasProp","hasOwnProperty","extend1","child","parent","ctor","this","constructor","key","prototype","__super__","indexOf","item","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","target","elements","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","ajax","trackMethods","trackWebSockets","ignoreURLs","performance","Date","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","fn","setTimeout","id","clearTimeout","last","tick","diff","args","obj","arguments","apply","out","val","arr","count","sum","v","Math","abs","json","data","el","document","querySelector","getAttribute","JSON","parse","_error","console","error","on","event","handler","ctx","once","base","bindings","push","off","results","splice","trigger","ref1","paceOptions","superClass","progress","getElement","targetElement","createElement","className","body","replace","test","innerHTML","firstChild","insertBefore","appendChild","finish","update","prog","render","destroy","parentNode","removeChild","len1","progressStr","transform","children","style","lastRenderedProgress","setAttribute","done","name","binding","XMLHttpRequest","XDomainRequest","WebSocket","to","from","Object","defineProperty","get","configurable","enumerable","ignore","ret","unshift","shift","track","method","toUpperCase","monitorXHR","_this","req","_open","open","type","url","async","request","flags","protocols","pattern","arg","after","running","ref2","stillActive","readyState","restart","watch","tracker","_onreadystatechange","size","ProgressEvent","addEventListener","evt","lengthComputable","loaded","total","onreadystatechange","selector","selector1","check","states","loading","interactive","complete","avg","interval","points","samples","setInterval","clearInterval","source1","sinceLastUpdate","rate","catchup","lastProgress","frameTime","scaling","pow","min","max","history","pushState","replaceState","len2","m","ref3","extraSources","stop","start","go","enqueueNextFrame","element","j","remaining","scaler","scalerList","_options","define","amd",2,"hidePreloader","pace","preloader","preloaderFront","getElementById","width","cb","classList","add","./lib/pace.custom"],"mappings":"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","file":"preloader.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","# Added 'update' event trigger (line 236)\n\ndefaultOptions =\n  # How long should it take for the bar to animate to a new\n  # point after receiving it\n  catchupTime: 100\n\n  # How quickly should the bar be moving before it has any progress\n  # info from a new source in %/ms\n  initialRate: .03\n\n  # What is the minimum amount of time the bar should be on the\n  # screen.  Irrespective of this number, the bar will always be on screen for\n  # 33 * (100 / maxProgressPerFrame) + ghostTime ms.\n  minTime: 250\n\n  # What is the minimum amount of time the bar should sit after the last\n  # update before disappearing\n  ghostTime: 100\n\n  # Its easy for a bunch of the bar to be eaten in the first few frames\n  # before we know how much there is to load.  This limits how much of\n  # the bar can be used per frame\n  maxProgressPerFrame: 20\n\n  # This tweaks the animation easing\n  easeFactor: 1.25\n\n  # Should pace automatically start when the page is loaded, or should it wait for `start` to\n  # be called?  Always false if pace is loaded with AMD or CommonJS.\n  startOnPageLoad: true\n\n  # Should we restart the browser when pushState or replaceState is called?  (Generally\n  # means ajax navigation has occured)\n  restartOnPushState: true\n\n  # Should we show the progress bar for every ajax request (not just regular or ajax-y page\n  # navigation)? Set to false to disable.\n  #\n  # If so, how many ms does the request have to be running for before we show the progress?\n  restartOnRequestAfter: 500\n\n  # What element should the pace element be appended to on the page?\n  target: 'body'\n\n  elements:\n    # How frequently in ms should we check for the elements being tested for\n    # using the element monitor?\n    checkInterval: 100\n\n    # What elements should we wait for before deciding the page is fully loaded (not required)\n    selectors: ['body']\n\n  eventLag:\n    # When we first start measuring event lag, not much is going on in the browser yet, so it's\n    # not uncommon for the numbers to be abnormally low for the first few samples.  This configures\n    # how many samples we need before we consider a low number to mean completion.\n    minSamples: 10\n\n    # How many samples should we average to decide what the current lag is?\n    sampleCount: 3\n\n    # Above how many ms of lag is the CPU considered busy?\n    lagThreshold: 3\n\n  ajax:\n    # Which HTTP methods should we track?\n    trackMethods: ['GET']\n\n    # Should we track web socket connections?\n    trackWebSockets: true\n\n    # A list of regular expressions or substrings of URLS we should ignore (for both tracking and restarting)\n    ignoreURLs: []\n\nnow = ->\n  performance?.now?() ? +new Date\n\nrequestAnimationFrame = window.requestAnimationFrame or window.mozRequestAnimationFrame or\n                        window.webkitRequestAnimationFrame or window.msRequestAnimationFrame\n\ncancelAnimationFrame = window.cancelAnimationFrame or window.mozCancelAnimationFrame\n\nif not requestAnimationFrame?\n  requestAnimationFrame = (fn) ->\n    setTimeout fn, 50\n\n  cancelAnimationFrame = (id) ->\n    clearTimeout id\n\nrunAnimation = (fn) ->\n  last = now()\n  tick = ->\n    diff = now() - last\n\n    if diff >= 33\n      # Don't run faster than 30 fps\n\n      last = now()\n      fn diff, ->\n        requestAnimationFrame tick\n    else\n      setTimeout tick, (33 - diff)\n\n  tick()\n\nresult = (obj, key, args...) ->\n  if typeof obj[key] is 'function'\n    obj[key](args...)\n  else\n    obj[key]\n\nextend = (out, sources...) ->\n  for source in sources when source\n    for own key, val of source\n      if out[key]? and typeof out[key] is 'object' and val? and typeof val is 'object'\n        extend(out[key], val)\n      else\n        out[key] = val\n  out\n\navgAmplitude = (arr) ->\n  sum = count = 0\n  for v in arr\n    sum += Math.abs(v)\n    count++\n\n  sum / count\n\ngetFromDOM = (key='options', json=true) ->\n  el = document.querySelector \"[data-pace-#{ key }]\"\n\n  return unless el\n\n  data = el.getAttribute \"data-pace-#{ key }\"\n\n  return data if not json\n\n  try\n    return JSON.parse data\n  catch e\n    console?.error \"Error parsing inline pace options\", e\n\nclass Evented\n  on: (event, handler, ctx, once=false) ->\n    @bindings ?= {}\n    @bindings[event] ?= []\n    @bindings[event].push {handler, ctx, once}\n\n  once: (event, handler, ctx) ->\n    @on(event, handler, ctx, true)\n\n  off: (event, handler) ->\n    return unless @bindings?[event]?\n\n    if not handler?\n      delete @bindings[event]\n    else\n      i = 0\n      while i < @bindings[event].length\n        if @bindings[event][i].handler is handler\n          @bindings[event].splice i, 1\n        else\n          i++\n\n  trigger: (event, args...) ->\n    if @bindings?[event]\n      i = 0\n      while i < @bindings[event].length\n        {handler, ctx, once} = @bindings[event][i]\n\n        handler.apply(ctx ? @, args)\n\n        if once\n          @bindings[event].splice i, 1\n        else\n          i++\n\nPace = window.Pace or {}\nwindow.Pace = Pace\n\nextend Pace, Evented::\n\noptions = Pace.options = extend {}, defaultOptions, window.paceOptions, getFromDOM()\n\nfor source in ['ajax', 'document', 'eventLag', 'elements']\n  # true enables them without configuration, so we grab the config from the defaults\n  if options[source] is true\n    options[source] = defaultOptions[source]\n\nclass NoTargetError extends Error\n\nclass Bar\n  constructor: ->\n    @progress = 0\n\n  getElement: ->\n    if not @el?\n      targetElement = document.querySelector options.target\n\n      if not targetElement\n        throw new NoTargetError\n\n      @el = document.createElement 'div'\n      @el.className = \"pace pace-active\"\n\n      document.body.className = document.body.className.replace /pace-done/g, ''\n      if not /pace-running/.test document.body.className\n        document.body.className += ' pace-running'\n\n      @el.innerHTML = '''\n      <div class=\"pace-progress\">\n        <div class=\"pace-progress-inner\"></div>\n      </div>\n      <div class=\"pace-activity\"></div>\n      '''\n      if targetElement.firstChild?\n        targetElement.insertBefore @el, targetElement.firstChild\n      else\n        targetElement.appendChild @el\n\n    @el\n\n  finish: ->\n    el = @getElement()\n\n    el.className = el.className.replace 'pace-active', ''\n    el.className += ' pace-inactive'\n\n    document.body.className = document.body.className.replace 'pace-running', ''\n    document.body.className += ' pace-done'\n\n  update: (prog) ->\n    @progress = prog\n\n    Pace.trigger 'update', prog\n\n    do @render\n\n  destroy: ->\n    try\n      @getElement().parentNode.removeChild(@getElement())\n    catch NoTargetError\n\n    @el = undefined\n\n  render: ->\n    if not document.querySelector(options.target)?\n      return false\n\n    el = @getElement()\n\n    transform = \"translate3d(#{ @progress }%, 0, 0)\"\n    for key in ['webkitTransform', 'msTransform', 'transform']\n      el.children[0].style[key] = transform\n\n    if not @lastRenderedProgress or @lastRenderedProgress|0 != @progress|0\n      # The whole-part of the number has changed\n\n      el.children[0].setAttribute 'data-progress-text', \"#{ @progress|0 }%\"\n\n      if @progress >= 100\n        # We cap it at 99 so we can use prefix-based attribute selectors\n        progressStr = '99'\n      else\n        progressStr = if @progress < 10 then \"0\" else \"\"\n        progressStr += @progress|0\n\n      el.children[0].setAttribute 'data-progress', \"#{ progressStr }\"\n\n    @lastRenderedProgress = @progress\n\n  done: ->\n    @progress >= 100\n\nclass Events\n  constructor: ->\n    @bindings = {}\n\n  trigger: (name, val) ->\n    if @bindings[name]?\n      for binding in @bindings[name]\n        binding.call @, val\n\n  on: (name, fn) ->\n    @bindings[name] ?= []\n    @bindings[name].push fn\n\n_XMLHttpRequest = window.XMLHttpRequest\n_XDomainRequest = window.XDomainRequest\n_WebSocket = window.WebSocket\n\nextendNative = (to, from) ->\n  for key of from::\n    try\n      if not to[key]? and typeof from[key] isnt 'function'\n        if typeof Object.defineProperty is 'function'\n          Object.defineProperty(to, key, {\n             get: ->\n                 return from::[key];\n              ,\n              configurable: true,\n              enumerable: true })\n        else\n          to[key] = from::[key]\n    catch e\n\nignoreStack = []\n\nPace.ignore = (fn, args...) ->\n  ignoreStack.unshift 'ignore'\n  ret = fn(args...)\n  ignoreStack.shift()\n  ret\n\nPace.track = (fn, args...) ->\n  ignoreStack.unshift 'track'\n  ret = fn(args...)\n  ignoreStack.shift()\n  ret\n\nshouldTrack = (method='GET') ->\n  if ignoreStack[0] is 'track'\n    return 'force'\n\n  if not ignoreStack.length and options.ajax\n    if method is 'socket' and options.ajax.trackWebSockets\n      return true\n    else if method.toUpperCase() in options.ajax.trackMethods\n      return true\n\n  return false\n\n# We should only ever instantiate one of these\nclass RequestIntercept extends Events\n  constructor: ->\n    super\n\n    monitorXHR = (req) =>\n      _open = req.open\n      req.open = (type, url, async) =>\n        if shouldTrack(type)\n          @trigger 'request', {type, url, request: req}\n\n        _open.apply req, arguments\n\n    window.XMLHttpRequest = (flags) ->\n      req = new _XMLHttpRequest(flags)\n\n      monitorXHR req\n\n      req\n\n    try\n      extendNative window.XMLHttpRequest, _XMLHttpRequest\n\n    if _XDomainRequest?\n      window.XDomainRequest = ->\n        req = new _XDomainRequest\n\n        monitorXHR req\n\n        req\n\n      try\n        extendNative window.XDomainRequest, _XDomainRequest\n\n    if _WebSocket? and options.ajax.trackWebSockets\n      window.WebSocket = (url, protocols) =>\n        if protocols?\n          req = new _WebSocket(url, protocols)\n        else\n          req = new _WebSocket(url)\n\n        if shouldTrack('socket')\n          @trigger 'request', {type: 'socket', url, protocols, request: req}\n\n        req\n\n      try\n        extendNative window.WebSocket, _WebSocket\n\n_intercept = null\ngetIntercept = ->\n  if not _intercept?\n    _intercept = new RequestIntercept\n  _intercept\n\nshouldIgnoreURL = (url) ->\n  for pattern in options.ajax.ignoreURLs\n    if typeof pattern is 'string'\n      if url.indexOf(pattern) isnt -1\n        return true\n\n    else\n      if pattern.test(url)\n        return true\n\n  return false\n\n# If we want to start the progress bar\n# on every request, we need to hear the request\n# and then inject it into the new ajax monitor\n# start will have created.\n\ngetIntercept().on 'request', ({type, request, url}) ->\n  return if shouldIgnoreURL(url)\n\n  if not Pace.running and (options.restartOnRequestAfter isnt false or shouldTrack(type) is 'force')\n    args = arguments\n\n    after = options.restartOnRequestAfter or 0\n    if typeof after is 'boolean'\n      after = 0\n\n    setTimeout ->\n      if type is 'socket'\n        stillActive = request.readyState < 2\n      else\n        stillActive = 0 < request.readyState < 4\n\n      if stillActive\n        Pace.restart()\n\n        for source in Pace.sources\n          if source instanceof AjaxMonitor\n            source.watch args...\n            break\n    , after\n\nclass AjaxMonitor\n  constructor: ->\n    @elements = []\n\n    getIntercept().on 'request', => @watch arguments...\n\n  watch: ({type, request, url}) ->\n    return if shouldIgnoreURL(url)\n\n    if type is 'socket'\n      tracker = new SocketRequestTracker(request)\n    else\n      tracker = new XHRRequestTracker(request)\n\n    @elements.push tracker\n\nclass XHRRequestTracker\n  constructor: (request) ->\n    @progress = 0\n\n    if window.ProgressEvent?\n      # We're dealing with a modern browser with progress event support\n\n      size = null\n      request.addEventListener 'progress', (evt) =>\n        if evt.lengthComputable\n          @progress = 100 * evt.loaded / evt.total\n        else\n          # If it's chunked encoding, we have no way of knowing the total length of the\n          # response, all we can do is increment the progress with backoff such that we\n          # never hit 100% until it's done.\n          @progress = @progress + (100 - @progress) / 2\n      , false\n\n      for event in ['load', 'abort', 'timeout', 'error']\n        request.addEventListener event, =>\n          @progress = 100\n        , false\n\n    else\n      _onreadystatechange = request.onreadystatechange\n      request.onreadystatechange = =>\n        if request.readyState in [0, 4]\n          @progress = 100\n        else if request.readyState is 3\n          @progress = 50\n\n        _onreadystatechange?(arguments...)\n\nclass SocketRequestTracker\n  constructor: (request) ->\n    @progress = 0\n\n    for event in ['error', 'open']\n      request.addEventListener event, =>\n        @progress = 100\n      , false\n\nclass ElementMonitor\n  constructor: (options={}) ->\n    @elements = []\n\n    options.selectors ?= []\n    for selector in options.selectors\n      @elements.push new ElementTracker selector\n\nclass ElementTracker\n  constructor: (@selector) ->\n    @progress = 0\n\n    @check()\n\n  check: ->\n    if document.querySelector(@selector)\n      @done()\n    else\n      setTimeout (=> @check()),\n        options.elements.checkInterval\n\n  done: ->\n    @progress = 100\n\nclass DocumentMonitor\n  states:\n    loading: 0\n    interactive: 50\n    complete: 100\n\n  constructor: ->\n    @progress = @states[document.readyState] ? 100\n\n    _onreadystatechange = document.onreadystatechange\n    document.onreadystatechange = =>\n      if @states[document.readyState]?\n        @progress = @states[document.readyState]\n\n      _onreadystatechange?(arguments...)\n\nclass EventLagMonitor\n  constructor: ->\n    @progress = 0\n\n    avg = 0\n\n    samples = []\n\n    points = 0\n    last = now()\n    interval = setInterval =>\n      diff = now() - last - 50\n      last = now()\n\n      samples.push diff\n\n      if samples.length > options.eventLag.sampleCount\n        samples.shift()\n\n      avg = avgAmplitude samples\n\n      if ++points >= options.eventLag.minSamples and avg < options.eventLag.lagThreshold\n        @progress = 100\n\n        clearInterval interval\n      else\n        @progress = 100 * (3 / (avg + 3))\n\n    , 50\n\nclass Scaler\n  constructor: (@source) ->\n    @last = @sinceLastUpdate = 0\n    @rate = options.initialRate\n    @catchup = 0\n    @progress = @lastProgress = 0\n\n    if @source?\n      @progress = result(@source, 'progress')\n\n  tick: (frameTime, val) ->\n    val ?= result(@source, 'progress')\n\n    if val >= 100\n      @done = true\n\n    if val == @last\n      @sinceLastUpdate += frameTime\n    else\n      if @sinceLastUpdate\n        @rate = (val - @last) / @sinceLastUpdate\n\n      @catchup = (val - @progress) / options.catchupTime\n\n      @sinceLastUpdate = 0\n      @last = val\n\n    if val > @progress\n      # After we've got a datapoint, we have catchupTime to\n      # get the progress bar to reflect that new data\n      @progress += @catchup * frameTime\n\n    scaling = (1 - Math.pow(@progress / 100, options.easeFactor))\n\n    # Based on the rate of the last update, we preemptively update\n    # the progress bar, scaling it so it can never hit 100% until we\n    # know it's done.\n    @progress += scaling * @rate * frameTime\n\n    @progress = Math.min(@lastProgress + options.maxProgressPerFrame, @progress)\n\n    @progress = Math.max(0, @progress)\n    @progress = Math.min(100, @progress)\n\n    @lastProgress = @progress\n\n    @progress\n\nsources = null\nscalers = null\nbar = null\nuniScaler = null\nanimation = null\ncancelAnimation = null\nPace.running = false\n\nhandlePushState = ->\n  if options.restartOnPushState\n    Pace.restart()\n\n# We reset the bar whenever it looks like an ajax navigation has occured.\nif window.history.pushState?\n  _pushState = window.history.pushState\n  window.history.pushState = ->\n    handlePushState()\n\n    _pushState.apply window.history, arguments\n\nif window.history.replaceState?\n  _replaceState = window.history.replaceState\n  window.history.replaceState = ->\n    handlePushState()\n\n    _replaceState.apply window.history, arguments\n\nSOURCE_KEYS =\n  ajax: AjaxMonitor\n  elements: ElementMonitor\n  document: DocumentMonitor\n  eventLag: EventLagMonitor\n\ndo init = ->\n  Pace.sources = sources = []\n\n  for type in ['ajax', 'elements', 'document', 'eventLag']\n    if options[type] isnt false\n      sources.push new SOURCE_KEYS[type](options[type])\n\n  for source in options.extraSources ? []\n    sources.push new source(options)\n\n  Pace.bar = bar = new Bar\n\n  # Each source of progress data has it's own scaler to smooth its output\n  scalers = []\n\n  # We have an extra scaler for the final output to keep things looking nice as we add and\n  # remove sources\n  uniScaler = new Scaler\n\nPace.stop = ->\n  Pace.trigger 'stop'\n  Pace.running = false\n\n  bar.destroy()\n\n  # Not all browsers support cancelAnimationFrame\n  cancelAnimation = true\n\n  if animation?\n    cancelAnimationFrame? animation\n    animation = null\n\n  init()\n\nPace.restart = ->\n  Pace.trigger 'restart'\n  Pace.stop()\n  Pace.start()\n\nPace.go = ->\n  Pace.running = true\n\n  bar.render()\n\n  start = now()\n\n  cancelAnimation = false\n  animation = runAnimation (frameTime, enqueueNextFrame) ->\n    # Every source gives us a progress number from 0 - 100\n    # It's up to us to figure out how to turn that into a smoothly moving bar\n    #\n    # Their progress numbers can only increment.  We try to interpolate\n    # between the numbers.\n\n    remaining = 100 - bar.progress\n\n    count = sum = 0\n    done = true\n    # A source is composed of a bunch of elements, each with a raw, unscaled progress\n    for source, i in sources\n      scalerList = scalers[i] ?= []\n\n      elements = source.elements ? [source]\n\n      # Each element is given it's own scaler, which turns its value into something\n      # smoothed for display\n      for element, j in elements\n        scaler = scalerList[j] ?= new Scaler element\n\n        done &= scaler.done\n\n        continue if scaler.done\n\n        count++\n        sum += scaler.tick(frameTime)\n\n    avg = sum / count\n\n    bar.update uniScaler.tick(frameTime, avg)\n\n    if bar.done() or done or cancelAnimation\n      bar.update 100\n\n      Pace.trigger 'done'\n\n      setTimeout ->\n        bar.finish()\n\n        Pace.running = false\n\n        Pace.trigger 'hide'\n      , Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0))\n    else\n      enqueueNextFrame()\n\nPace.start = (_options) ->\n  extend options, _options\n\n  Pace.running = true\n\n  try\n    bar.render()\n  catch NoTargetError\n\n  # It's usually possible to render a bit before the document declares itself ready\n  if not document.querySelector('.pace')\n    setTimeout Pace.start, 50\n  else\n    Pace.trigger 'start'\n    Pace.go()\n\nif typeof define is 'function' and define.amd\n  # AMD\n  define ['pace'], -> Pace\nelse if typeof exports is 'object'\n  # CommonJS\n  module.exports = Pace\nelse\n  # Global\n  if options.startOnPageLoad\n    Pace.start()\n",null,"pace = require './lib/pace.custom'\npace.start()\n\npreloader = document.getElementById 'preloader'\npreloaderFront = document.querySelector '.preloader__frontlayer'\n\npace.on 'update', (progress) ->\n  preloaderFront.style.width = \"#{progress}%\"\n\npace.on 'done', ->\n  do hidePreloader\n\nhidePreloader = (cb = -> ) ->\n  preloader.classList.add 'fade-out'\n  setTimeout ->\n    preloader.setAttribute 'hidden', 'hidden'\n  , 500\n\nmodule.exports = pace\n"],"sourceRoot":"/source/"}